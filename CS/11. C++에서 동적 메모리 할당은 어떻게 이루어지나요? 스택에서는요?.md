
C++의 동적 메모리 할당은 new와 delete 연산자를 통해 이루어집니다.

new 연산자가 호출되면 먼저 요청된 크기만큼의 메모리를 할당합니다. 이 과정에서 operator new 함수가 호출되는데, 이 함수는 기본적으로 malloc을 래핑합니다. 메모리 할당에 실패하면 bad_alloc 예외를 던집니다. 

메모리가 성공적으로 할당되면, placement new를 통해 해당 메모리 위치에 객체의 생성자를 호출합니다.

delete는 반대 순서로 동작합니다. 먼저 소멸자를 호출해서 객체를 정리하고, 그 다음 operator delete로 메모리를 해제합니다.

배열의 경우 약간 다릅니다. new[]로 할당하면 배열 크기 정보를 추가로 저장하고, 각 요소의 생성자를 순서대로 호출합니다. delete[]로 해제할 때는 역순으로 소멸자를 호출하고 메모리를 해제합니다. 그래서 new[]로 할당한 것을 delete로 해제하면 정의되지 않은 동작이 발생합니다.

실무에서는 직접 new/delete를 사용하기보다 스마트 포인터를 사용합니다. make_unique나 make_shared를 사용하면 예외 안전성도 보장되고 코드도 깔끔해집니다.