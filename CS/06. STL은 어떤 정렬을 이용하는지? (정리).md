STL의 std::sort()는 Introspective Sort, 줄여서 Introsort를 사용합니다. 이건 여러 정렬 알고리즘의 장점을 결합한 하이브리드 방식입니다.

기본적으로 퀵 정렬로 시작합니다. 퀵 정렬이 평균적으로 가장 빠르니까요. 하지만 재귀 깊이가 2 × log n을 초과하면 최악의 경우로 가고 있다고 판단하고 힙 정렬로 전환합니다. 이렇게 해서 최악의 경우에도 O(n log n)을 보장하죠.

그리고 구간 크기가 16 이하로 작아지면 삽입 정렬로 전환합니다. 작은 데이터에서는 삽입 정렬이 오버헤드가 적어서 더 빠르거든요. 피벗 선택도 첫 번째, 중간, 마지막 요소 중 중간값을 선택하는 median-of-three 방식을 사용해서 최악의 경우를 피합니다.

결과적으로 퀵 정렬의 평균 성능과 힙 정렬의 최악 케이스 보장, 삽입 정렬의 작은 데이터 최적화를 모두 갖춘 실용적인 알고리즘입니다.