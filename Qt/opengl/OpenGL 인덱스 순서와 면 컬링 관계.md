
그라운드를 생성했는데, 렌더링이 되지 않아서 볼 수 없는 문제가 발생했었다. 삼각형의 인덱스 순서를 변경하니 해결되었는데 그 이유를 자세히 알아보도록 한다.

## 1. Winding Order의 기본 개념

삼각형의 Winding Order이란 삼각형의 정점들이 어떤 순서로 연결되는지를 의미한다. 3D 그래픽스에서는 이 순서를 통해 삼각형의 앞면과 뒷면을 구분합니다.

- **반시계 방향(Counter-Clockwise, CCW)**: 삼각형의 정점들이 반시계 방향으로 연결될 때
- **시계 방향(Clockwise, CW)**: 삼각형의 정점들이 시계 방향으로 연결될 때

OpenGL의 기본 설정에서는 반시계 방향으로 정의된 삼각형을 앞면으로 간주한다.

## 2. 그라운드(사각형) 렌더링 문제

그라운드(바닥 평면)는 보통 사각형으로 구현되며, 두 개의 삼각형으로 나뉘어 렌더링된다. 이 과정에서 인덱스 순서가 중요하다.

### 문제가 있는 인덱스 순서 (시계 방향)

```cpp
// 원래 인덱스 (시계 방향)
const GLuint indices[] = {
    0, 1, 2,  // 첫 번째 삼각형
    0, 2, 3   // 두 번째 삼각형
};
```

```
0 --- 1
|   / |
| /   |
3 --- 2
```

이 인덱스 배열은 두 개의 삼각형을 시계 방향(CW)으로 정의합니다:
- 첫 번째 삼각형: 정점 0 → 1 → 2 (시계 방향)
- 두 번째 삼각형: 정점 0 → 2 → 3 (시계 방향)

OpenGL의 기본 설정에서는 시계 방향으로 정의된 삼각형은 뒷면으로 간주되고,`glEnable(GL_CULL_FACE)`를 사용하면 뒷면은 렌더링되지 않는다. 따라서 보이지 않는다.

### 해결된 인덱스 순서 (반시계 방향)

```cpp
// 수정된 인덱스 (반시계 방향)
const GLuint indices[] = {
    0, 2, 1,  // 첫 번째 삼각형 (방향 변경)
    0, 3, 2   // 두 번째 삼각형 (방향 변경)
};
```

```
0 --- 1
|   / |
| /   |
3 --- 2
```

이렇게 변경된 인덱스 배열은:
- 첫 번째 삼각형: 정점 0 → 2 → 1 (반시계 방향)
- 두 번째 삼각형: 정점 0 → 3 → 2 (반시계 방향)

반시계 방향으로 정의된 삼각형들은 OpenGL에 의해 앞면으로 간주되어 면 컬링이 활성화되어도 정상적으로 렌더링된다.

## 4. 법선 벡터와의 관계

법선 벡터가 관찰자를 향하면 삼각형은 반시계 방향, 반대 방향이면 시계 방향이다.

## 5. 다른 해결 방법

인덱스 순서를 변경하는 것 외에도 다음 방법으로 문제를 해결할 수 있음.

1. **앞면 정의 변경**
```cpp
glFrontFace(GL_CW); // 시계 방향을 앞면으로 정의
```

2. **컬링 모드 변경**
```cpp
glCullFace(GL_FRONT); // 앞면을 컬링하고 뒷면을 렌더링
```

3. **면 컬링 비활성화** (최적화 포기):
```cpp
glDisable(GL_CULL_FACE);
```

하지만 인덱스 순서를 변경하는 것이 가장 표준적인 방법이며, OpenGL의 기본 설정(반시계 방향)을 준수하는 것이 좋음.

## 6. 컬링의 성능 이점

면 컬링은 중요한 성능 최적화 기법이다. 면 컬링 활성화는 보이지 않는 면을 렌더링을 건너 뛰어서 렌더링 시간을 줄일 수 있고 프래그먼트 쉐이더 연산과 래스터화를 더 효율적으로 수행할 수 있다.
